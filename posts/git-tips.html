<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git 小贴士 | Atmosphere</title>
    <meta name="description" content="浅谈 Git 中的实用功能">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.Dpyazum0.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BOkN2eCL.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DIM1rSjZ.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BjDJcZmr.js">
    <link rel="modulepreload" href="/assets/posts_git-tips.md.DoQVFnwI.lean.js">
    <link rel="icon" href="https://www.loliapi.com/acg/pp/">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!--[--><img class="VPImage logo" src="https://www.loliapi.com/acg/pp/" alt data-v-ab19afbb><!--]--><span data-v-9f43907a>Atmosphere</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/category.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Category</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/archives.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Archives</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/tags.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Tags</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pages/about.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>About</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/YasakaKanoko" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://x.com/yasakakanoko" aria-label="x" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://t.me/yasakakanoko" aria-label="telegram" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-telegram"></span></a><a class="VPSocialLink no-icon" href="https://bsky.app/profile/shuiyuan5173.bsky.social" aria-label="bluesky" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-bluesky"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/YasakaKanoko" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://x.com/yasakakanoko" aria-label="x" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://t.me/yasakakanoko" aria-label="telegram" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-telegram"></span></a><a class="VPSocialLink no-icon" href="https://bsky.app/profile/shuiyuan5173.bsky.social" aria-label="bluesky" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-bluesky"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>文章摘要</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--[--><!--[--><div style="padding-top:20px;" class="post-info">2025-07-03    <!--[--><span><a href="/pages/tags.html?tag=git">git</a></span><!--]--></div><!--]--><!--]--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _posts_git-tips" data-v-e6f2a212><div><h1 id="git-小贴士" tabindex="-1">Git 小贴士 <a class="header-anchor" href="#git-小贴士" aria-label="Permalink to &quot;Git 小贴士&quot;">​</a></h1><details class="details custom-block"><summary>目录</summary><nav class="table-of-contents"><ul><li><a href="#commit-规范">commit 规范</a><ul><li><a href="#提交类型">提交类型</a></li><li><a href="#浏览历史记录">浏览历史记录</a></li><li><a href="#using-emoji">Using Emoji</a></li></ul></li><li><a href="#交互式暂存">交互式暂存</a></li><li><a href="#修改作者">修改作者</a></li><li><a href="#修改提交时间">修改提交时间</a></li><li><a href="#git-stash">git stash</a></li><li><a href="#git-bisect">git bisect</a></li><li><a href="#git-blame">git blame</a></li><li><a href="#清空-commit-历史">清空 commit 历史</a></li><li><a href="#fork-始终与远程同步">fork 始终与远程同步</a></li><li><a href="#语义化版本">语义化版本</a><ul><li><a href="#举个例子">举个例子</a></li><li><a href="#package-json-中的语义化版本">package.json 中的语义化版本</a></li><li><a href="#如何决定版本优先级">如何决定版本优先级</a></li></ul></li><li><a href="#git-黑话">Git 黑话</a></li><li><a href="#参考">参考</a></li></ul></nav></details><h2 id="commit-规范" tabindex="-1">commit 规范 <a class="header-anchor" href="#commit-规范" aria-label="Permalink to &quot;commit 规范&quot;">​</a></h2><p>Angular 约定式提交分为三部分：<strong>Header</strong>、<strong>Body</strong>、<strong>Footer</strong></p><ul><li><p><strong>Header</strong>：提交信息格式 <code>&lt;type&gt;[(&lt;scope&gt;)!]: &lt;subject&gt;</code></p><ul><li><code>()</code>：范围字段</li><li><code>!</code>：破坏性变更</li></ul></li><li><p><strong>Body</strong>：提交正文</p></li><li><p><strong>Footer</strong>：页脚部分是可选的，宣布重大变化、提及贡献者等</p></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;fix(core): remove deprecated and defunct wtf* apis&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;These apis have been deprecated in v8, so they should stick around till v10, but since they are defunct we are removing them early so that they don&#39;t take up payload size.&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;PR Close #33949&quot;</span></span></code></pre></div><h3 id="提交类型" tabindex="-1">提交类型 <a class="header-anchor" href="#提交类型" aria-label="Permalink to &quot;提交类型&quot;">​</a></h3><ul><li><code>build</code>：开发阶段更改 (包括但不限于文档、代码等，也称为 <code>chore</code>)</li><li><code>ci</code>：持续集成和部署系统相关的开发变化</li><li><code>docs</code>：修改文档</li><li><code>feat</code>：新功能 (对应语义化版本的 MINOR)</li><li><code>fix</code>：修复错误 (对应语义化版本的 PATCH)</li><li><code>perf</code>：性能优化</li><li><code>refactor</code>：重构代码 (例如：删除冗余代码、简化代码、重命名变量等)</li><li><code>style</code>：修改样式 (例如：调整缩进、空格、换行等)</li><li><code>test</code>：重构或添加测试用例</li></ul><h3 id="浏览历史记录" tabindex="-1">浏览历史记录 <a class="header-anchor" href="#浏览历史记录" aria-label="Permalink to &quot;浏览历史记录&quot;">​</a></h3><ul><li><p>显示所有以 <code>feat</code>、<code>fix</code>、<code>perf</code> 开头的消息</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --oneline</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;^feat|^fix|^perf&quot;</span></span></code></pre></div></li><li><p>显示以 <code>feat</code> 开头的提交总数</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --oneline</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;^feat&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> wc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span></span></code></pre></div></li></ul><h3 id="using-emoji" tabindex="-1">Using Emoji <a class="header-anchor" href="#using-emoji" aria-label="Permalink to &quot;Using Emoji&quot;">​</a></h3><ul><li><a href="https://github.com/carloscuesta/gitmoji" target="_blank" rel="noreferrer">gitmoji</a></li><li><a href="https://github.com/dannyfritz/commit-message-emoji" target="_blank" rel="noreferrer">Commit Message Emoji</a></li></ul><h2 id="交互式暂存" tabindex="-1">交互式暂存 <a class="header-anchor" href="#交互式暂存" aria-label="Permalink to &quot;交互式暂存&quot;">​</a></h2><p><code>git add -p</code> 允许在提交修改之前，逐块审查和选择性地暂存文件的修改部分，而不是一次性暂存整个文件</p><p>Git 将文件的修改分块成多个小块，可以选择哪些暂存，哪些不暂存</p><ul><li><code>y</code>：yes，暂存该块</li><li><code>n</code>：no，不暂存该块</li><li><code>s</code>：split，将大块拆分成更小的块</li><li><code>e</code>：edit，手动编辑该块</li><li><code>d</code>：discard，丢弃该块的更改</li><li><code>q</code>：quit，退出交互模式</li></ul><p>将一个文件的部分修改提交到暂存区，用于拆分 commit</p><h2 id="修改作者" tabindex="-1">修改作者 <a class="header-anchor" href="#修改作者" aria-label="Permalink to &quot;修改作者&quot;">​</a></h2><ul><li><p>修改本次提交信息：<code>git commit --author=&quot;name &lt;name@example&gt;&quot; -m &quot;Commit message&quot;</code></p></li><li><p>修改上一次提交信息：<code>git commit --amend --author=&quot;name &lt;name@example&gt;&quot; --no-edit</code></p></li></ul><h2 id="修改提交时间" tabindex="-1">修改提交时间 <a class="header-anchor" href="#修改提交时间" aria-label="Permalink to &quot;修改提交时间&quot;">​</a></h2><ul><li>修改上一次提交时间：<code>git commit --amend --date=&quot;Jan 1 16:21:11 2020 +0800&quot; --no-edit</code></li><li>修改本次提交时间：<code>git commit --date=&quot;Jan 1 16:21:11 2020 +0800&quot; -m &quot;commit message&quot;</code></li></ul><h2 id="git-stash" tabindex="-1">git stash <a class="header-anchor" href="#git-stash" aria-label="Permalink to &quot;git stash&quot;">​</a></h2><p>临时保存，把当前工作目录未提交的修改保存</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 保存当前工作区和暂存区的更改(或 git stash push)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 保存时添加注释</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Close #33949&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看所有 stash 条目</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复最近的 stash 并从 stash 列表中移除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复最近的 stash 但不删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 恢复指定 id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash@{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 清除指定 stash id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> drop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash@{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 清除最近一次 stash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> drop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 清空所有 stash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clear</span></span></code></pre></div><h2 id="git-bisect" tabindex="-1">git bisect <a class="header-anchor" href="#git-bisect" aria-label="Permalink to &quot;git bisect&quot;">​</a></h2><p>git bisect 基于二分查找算法，用于定位引入 Bug 的 commit</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 首先需要通过 git log 确定起点和终点</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bisect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bad_commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> good_commit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 记录此次 commit 是好的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bisect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> good</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 记录此次 commit 是坏的</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bisect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bad</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 退出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bisect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reset</span></span></code></pre></div><h2 id="git-blame" tabindex="-1">git blame <a class="header-anchor" href="#git-blame" aria-label="Permalink to &quot;git blame&quot;">​</a></h2><p><code>git blame</code> 逐行查看文件内容的最后修改信息，按行定位 bug 的生产者</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blame</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> README.md</span></span></code></pre></div><h2 id="清空-commit-历史" tabindex="-1">清空 commit 历史 <a class="header-anchor" href="#清空-commit-历史" aria-label="Permalink to &quot;清空 commit 历史&quot;">​</a></h2><p>第一种方法是通过创建新分支</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.新建一个新分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --orphan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new_dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2.暂存所有文件并提交</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Initial commit&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3.删除本地 dev 分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4.将当前 new_dev 分支重命名为 dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5.强制推送到远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> develop</span></span></code></pre></div><p>第二种方法通过更新引用</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.通过 git log 找到第一条 commit_id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --oneline</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2.将 main 分支的 HEAD 指针指向第一条 commit_id</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update-ref</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refs/heads/main</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9c3a31e68aa63641c7377f549edc01095a44c079</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3.暂存所有文件并提交</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Initial commit&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4.强制推送到远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre></div><h2 id="fork-始终与远程同步" tabindex="-1">fork 始终与远程同步 <a class="header-anchor" href="#fork-始终与远程同步" aria-label="Permalink to &quot;fork 始终与远程同步&quot;">​</a></h2><p>远程</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.添加远程仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/lawvs/zod-compare.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2.拉取最新分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3.将远程的最新内容合并到当前分支(允许合并不相关历史记录)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev/main</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --allow-unrelated-histories</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4.推送</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span></code></pre></div><p>本地：如果远端 PR 被合并之后，往往需要切回主分支重新拉取代码，这将毫无意义地重新触发一次旧版本的索引；<a href="https://x.com/zty0826/status/1461893471766126595" target="_blank" rel="noreferrer">来自 @zty0826</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fetch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main:main</span></span></code></pre></div><h2 id="语义化版本" tabindex="-1">语义化版本 <a class="header-anchor" href="#语义化版本" aria-label="Permalink to &quot;语义化版本&quot;">​</a></h2><p>语义化版本 (<strong>Semantic Versioning</strong>，简称 <strong>SemVer</strong>) 是一种命名规范，清晰地表达软件版本的变化及其兼容性，采用 <strong>主版本号</strong>.<strong>次版本号</strong>.<strong>修订号</strong> 的格式</p><ul><li><strong>主版本号 (Major)</strong>：当软件进行不兼容的 API 变更 (breaking changes)，主版本号递增次版本号和修订号重置为 0</li><li><strong>次版本号 (Minor)</strong>：当软件添加了新功能，但保持向后兼容时，次版本号递增，修订号重置为 0</li><li><strong>修订号 (Patch)</strong>：当软件进行向后兼容的 bug 修复或小更新，修订号递增</li><li><strong>先行版本号</strong>及版本编译信息可以加到 <code>Major.Minor.Patch</code> 之后作延申</li><li><strong>预发布版本 (可选)</strong>：用 <code>-</code> 连接；如：<code>1.2.3-beta.1</code><ul><li>表示测试版、开发版等 (不稳定版本)</li><li>常用于 <code>alpha</code>、<code>beta</code>、<code>rc</code> (release candidate) 等阶段</li></ul></li><li><strong>构建元数据 (可选)</strong>：用 <code>+</code> 连接，如：<code>1.2.3+build.123</code>，表示构建相关信息 (如：时间戳或构建 ID)，不影响版本优先级</li></ul><h3 id="举个例子" tabindex="-1">举个例子 <a class="header-anchor" href="#举个例子" aria-label="Permalink to &quot;举个例子&quot;">​</a></h3><p>假设当前有一个版本号为 <code>1.0.0</code> 的软件包供给外部软件调用</p><ul><li>软件包中的 <code>example</code> 函数存在 bug，此次仅进行 bug 修复，<strong>未添加新功能，未发生不兼容的 API 修改</strong>，版本号变更为 <code>1.0.1</code></li><li>软件包中新增了 <code>example</code> 的函数重载，用户原有的调用依旧返回预期结果，当用户调用新的参数类型，返回值发生变化。<strong>新增了一个函数重载的功能，未发生不兼容的 API 修改</strong>，版本号变更为 <code>1.1.0</code></li><li><code>example</code> 函数新增了一个参数，用户<strong>原有的调用会报错提示缺少参数，这时就发生了不兼容的 API 修改</strong>，版本号变更为 <code>2.0.0</code></li></ul><h3 id="package-json-中的语义化版本" tabindex="-1">package.json 中的语义化版本 <a class="header-anchor" href="#package-json-中的语义化版本" aria-label="Permalink to &quot;package.json 中的语义化版本&quot;">​</a></h3><ul><li><code>^</code>：允许次版本和修订号更新</li><li><code>~</code>：只允许修订号更新</li><li><strong>无符号</strong>：精确锁定版本</li></ul><h3 id="如何决定版本优先级" tabindex="-1">如何决定版本优先级 <a class="header-anchor" href="#如何决定版本优先级" aria-label="Permalink to &quot;如何决定版本优先级&quot;">​</a></h3><ul><li><strong>正式版本</strong>：数字越大优先级越高 (如：<code>2.0.0</code> &gt; <code>1.0.0</code>) <ul><li>正式版本相同时，正式版本优先级高于先行版本 (如：<code>1.0.0</code> &gt; <code>1.0.0-alpha</code>)</li></ul></li><li><strong>先行版本</strong><ul><li>数字：数值的高低顺序 (如：<code>1.0.0-alpha.5</code> &gt; <code>1.0.0-alpha.1</code>)</li><li>字母：ASCII 码顺序 (如：<code>1.0.0-alpha.rc</code> &gt; <code>1.0.0-alpha.beta</code>)</li><li>非数字标识符比数字标识符优先级更高 (如：<code>1.0.0-alpha</code> &gt; <code>1.0.0-0</code>)</li><li>先行版本相同时，栏位较多的优先级更高 (如：<code>1.0.0-alpha.1.0</code> &gt; <code>1.0.0-alpha.1</code>)</li></ul></li></ul><h2 id="git-黑话" tabindex="-1">Git 黑话 <a class="header-anchor" href="#git-黑话" aria-label="Permalink to &quot;Git 黑话&quot;">​</a></h2><ul><li><strong>PR</strong>：Pull Request，拉取请求</li><li><strong>LGTM/SGTM</strong>：Looks/Sounds Good To Me，没问题，可以合并</li><li><strong>ACK</strong>：Acknowledgement 确认，同意/接受变更</li><li><strong>NACK/NAK</strong>：negative acknowledgement 否认</li><li><strong>TL;DR</strong>：Too Long; Didn&#39;t Read. 太长了，懒得看</li><li><strong>PTAL</strong>：Please Take A Look. 请你帮忙看一下</li><li><strong>WIP</strong>：Work In Progress. 开发中</li><li><strong>TBR</strong>：To Be Reviewed. 提示维护者进行 review</li><li><strong>CC</strong>：Carbon Copy. 抄送</li></ul><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><p><a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noreferrer">commitlint</a></p></li><li><p><a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/" target="_blank" rel="noreferrer">Conventional Commits</a></p></li><li><p><a href="https://karma-runner.github.io/4.0/dev/git-commit-msg.html" target="_blank" rel="noreferrer">karma</a></p></li><li><p><a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit?pli=1&amp;tab=t.0#heading=h.uyo6cb12dt6w" target="_blank" rel="noreferrer">Angular JS Git Commit Message Conventions</a></p></li><li><p><a href="https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit" target="_blank" rel="noreferrer">Contributing to Angular</a></p></li><li><p><a href="https://www.freecodecamp.org/news/what-do-cryptic-github-comments-mean-9c1912bcc0a4" target="_blank" rel="noreferrer">What do cryptic Github comments mean?</a></p></li><li><p><a href="https://semver.org/" target="_blank" rel="noreferrer">Semantic Versioning 2.0.0</a></p></li></ul></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><div id="giscus-container"></div><!--]--><!--]--><!--]--></div></div><!----><!--[--><!--]--></div><div class="site-footer"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 2025-2025 <a class="vitepress" href="https://yasakakanoko.github.io/">Atmosphere</a><br> Powered by <a class="vitepress" target="_blank" href="//vitepress.vuejs.org/">VitePress</a> Theme by <a class="vitepress" target="_blank" href="//github.com/airene/vitepress-blog-pure">Vitepress-blog-pure</a></div><!--]--></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"bzQTfInV\",\"pages_about.md\":\"CET7YpBP\",\"pages_archives.md\":\"w0UtRltI\",\"pages_category.md\":\"AUtHesis\",\"pages_tags.md\":\"CXi1ivYx\",\"posts_bun.md\":\"B64F2Ihp\",\"posts_git-tips.md\":\"DoQVFnwI\",\"posts_neumorphism-ui.md\":\"D8tsXb4K\",\"posts_vscode-tips.md\":\"C1O--z6z\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Atmosphere\",\"description\":\"Banished Knight | 失乡骑士\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"posts\":[{\"frontMatter\":{\"date\":\"2025-07-27\",\"title\":\"VSCode 小贴士\",\"category\":\"Violet Evergarden\",\"tags\":[\"VSCode\"],\"description\":\"VSCode 实用功能和插件。\"},\"regularPath\":\"/posts/vscode-tips.html\"},{\"frontMatter\":{\"date\":\"2025-07-15\",\"title\":\"Neumorphism 设计优化\",\"category\":\"Charlotte\",\"tags\":[\"CSS\"],\"description\":\"总结 Neumorphism UI 设计风格。\"},\"regularPath\":\"/posts/neumorphism-ui.html\"},{\"frontMatter\":{\"date\":\"2025-07-03\",\"title\":\"Git 小贴士\",\"category\":\"Guilty Crown\",\"tags\":[\"git\"],\"description\":\"浅谈 Git 中的实用功能\"},\"regularPath\":\"/posts/git-tips.html\"},{\"frontMatter\":{\"date\":\"2025-06-29\",\"title\":\"Bun\",\"category\":\"JoJo's Bizarre Adventure\",\"tags\":[\"ts\",\"js\"],\"description\":\"Bun 是一个 JavaScript 运行时。它同时可以作为测试框架，也可以作为包管理器。诸如数据库、包管理器、WebAPI 等功能都集成在一个工具中。\"},\"regularPath\":\"/posts/bun.html\"}],\"logo\":\"https://www.loliapi.com/acg/pp/\",\"website\":\"https://yasakakanoko.github.io/\",\"comment\":{\"repo\":\"YasakaKanoko/yasakakanoko.github.io\",\"repoId\":\"R_kgDOPClF3g\",\"categoryId\":\"DIC_kwDOPClF3s4CsFX1\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Category\",\"link\":\"/pages/category\"},{\"text\":\"Archives\",\"link\":\"/pages/archives\"},{\"text\":\"Tags\",\"link\":\"/pages/tags\"},{\"text\":\"About\",\"link\":\"/pages/about\"}],\"search\":{\"provider\":\"local\"},\"outlineTitle\":\"文章摘要\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/YasakaKanoko\"},{\"icon\":\"x\",\"link\":\"https://x.com/yasakakanoko\"},{\"icon\":\"telegram\",\"link\":\"https://t.me/yasakakanoko\"},{\"icon\":\"bluesky\",\"link\":\"https://bsky.app/profile/shuiyuan5173.bsky.social\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>